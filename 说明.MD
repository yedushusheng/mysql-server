# 代码版本
# 代码风格
## 源码结构
对于MySQL5.6版本,除了存储引擎接口文件采用C++,以及少量的嵌入式汇编语言,InnoDB存储引擎绝大多数部分代码采用C语言进行编码实现.
对于MySQL8.0版本,已经全面采用C++实现.
每个模块的实现放在一个单独的文件夹中,文件的命名规则为“模块名0子模块能名.c".
.h头文件与.c文件不同,其统一放在include文件夹下.在include文件夹下,除了.h文件外,还存在.ic文件.该类文件为每个模块定义了内联函数(非DEBUG模式下).可以发现在这些文件中,函数的定义都包含宏UNIV_INLINE,该宏的定义位于文件univ.i中,具体定义如下所示:
#ifdef UNIV_HOTBACKUP
#define UNIV_INLINE inline
#else /* UNIV_HOTBACKUP */
#define UNIV_INLINE static inline
#endif /* UNIV_HOTBACKUP */
## 代码风格
从代码风格来看,InnoDB存储引擎的代码缩进风格更接近于K&R风格.所有的非函数语句块(if/switch/for/while/do),起始大括号放在行尾,而把结束大括号放在行首.函数开头的左花括号放在最左边.
此外,每个文件都包含一段简短说明其功能的注释开头,同时每个函数也注释说明函数的功能,需要哪些种类的参数,参数可能值的含义以及用途.最后,对于变量的声明,使用下划线以及分割单词,坚持使用小写,并把大写字母留给宏和枚举常量.

# 代码编译
# 代码阅读

# 参考资料
MySQL:
https://dev.mysql.com/doc/internals/en/
https://bugs.mysql.com/
Percona:
https://www.percona.com/live/conferences
https://bugs.launchpad.net/percona-server
